<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.96.0" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<link rel="preload" href="https://alamot.github.io/css/noncrit.css" as="style" onload="this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://alamot.github.io/css/noncrit.css"></noscript>
<style>
button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}
*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}:before,:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}
input,button,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}
.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}
[role="button"]{cursor: pointer;}
.container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}@media (min-width: 768px){.container{width:750px}}@media (min-width: 992px){.container{width:970px}}@media (min-width: 1200px){.container{width:1170px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}.row{margin-left:-15px;margin-right:-15px}
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 { position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; }
@media (min-width: 768px){.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width: 992px){.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}
label { display: inline-block; max-width: 100%; margin-bottom: 5px; font-weight: bold; }
.btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:16px;line-height:1.4;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus,.btn.focus{color:#333;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:focus,.btn-default.focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active,.btn-default.active,.open > .dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active:hover,.btn-default.active:hover,.open > .dropdown-toggle.btn-default:hover,.btn-default:active:focus,.btn-default.active:focus,.open > .dropdown-toggle.btn-default:focus,.btn-default:active.focus,.btn-default.active.focus,.open > .dropdown-toggle.btn-default.focus{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default:active,.btn-default.active,.open > .dropdown-toggle.btn-default{background-image:none}.btn-default.disabled:hover,.btn-default[disabled]:hover,fieldset[disabled] .btn-default:hover,.btn-default.disabled:focus,.btn-default[disabled]:focus,fieldset[disabled] .btn-default:focus,.btn-default.disabled.focus,.btn-default[disabled].focus,fieldset[disabled] .btn-default.focus{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#195eff;border-color:#004cff}.btn-primary:focus,.btn-primary.focus{color:#fff;background-color:#0045e5;border-color:#00267f}.btn-primary:hover{color:#fff;background-color:#0045e5;border-color:#003ac1}.btn-primary:active,.btn-primary.active,.open > .dropdown-toggle.btn-primary{color:#fff;background-color:#0045e5;border-color:#003ac1}.btn-primary:active:hover,.btn-primary.active:hover,.open > .dropdown-toggle.btn-primary:hover,.btn-primary:active:focus,.btn-primary.active:focus,.open > .dropdown-toggle.btn-primary:focus,.btn-primary:active.focus,.btn-primary.active.focus,.open > .dropdown-toggle.btn-primary.focus{color:#fff;background-color:#003ac1;border-color:#00267f}.btn-primary:active,.btn-primary.active,.open > .dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled:hover,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary:hover,.btn-primary.disabled:focus,.btn-primary[disabled]:focus,fieldset[disabled] .btn-primary:focus,.btn-primary.disabled.focus,.btn-primary[disabled].focus,fieldset[disabled] .btn-primary.focus{background-color:#195eff;border-color:#004cff}.btn-primary .badge{color:#195eff;background-color:#fff}.btn-success{color:#fff;background-color:#00bc16;border-color:#00a313}.btn-success:focus,.btn-success.focus{color:#fff;background-color:#008910;border-color:#002304}.btn-success:hover{color:#fff;background-color:#008910;border-color:#00650c}.btn-success:active,.btn-success.active,.open > .dropdown-toggle.btn-success{color:#fff;background-color:#008910;border-color:#00650c}.btn-success:active:hover,.btn-success.active:hover,.open > .dropdown-toggle.btn-success:hover,.btn-success:active:focus,.btn-success.active:focus,.open > .dropdown-toggle.btn-success:focus,.btn-success:active.focus,.btn-success.active.focus,.open > .dropdown-toggle.btn-success.focus{color:#fff;background-color:#00650c;border-color:#002304}.btn-success:active,.btn-success.active,.open > .dropdown-toggle.btn-success{background-image:none}.btn-success.disabled:hover,.btn-success[disabled]:hover,fieldset[disabled] .btn-success:hover,.btn-success.disabled:focus,.btn-success[disabled]:focus,fieldset[disabled] .btn-success:focus,.btn-success.disabled.focus,.btn-success[disabled].focus,fieldset[disabled] .btn-success.focus{background-color:#00bc16;border-color:#00a313}.btn-success .badge{color:#00bc16;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info:focus,.btn-info.focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info:hover{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active,.btn-info.active,.open > .dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active:hover,.btn-info.active:hover,.open > .dropdown-toggle.btn-info:hover,.btn-info:active:focus,.btn-info.active:focus,.open > .dropdown-toggle.btn-info:focus,.btn-info:active.focus,.btn-info.active.focus,.open > .dropdown-toggle.btn-info.focus{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info:active,.btn-info.active,.open > .dropdown-toggle.btn-info{background-image:none}.btn-info.disabled:hover,.btn-info[disabled]:hover,fieldset[disabled] .btn-info:hover,.btn-info.disabled:focus,.btn-info[disabled]:focus,fieldset[disabled] .btn-info:focus,.btn-info.disabled.focus,.btn-info[disabled].focus,fieldset[disabled] .btn-info.focus{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning:focus,.btn-warning.focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning:hover{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active,.btn-warning.active,.open > .dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active:hover,.btn-warning.active:hover,.open > .dropdown-toggle.btn-warning:hover,.btn-warning:active:focus,.btn-warning.active:focus,.open > .dropdown-toggle.btn-warning:focus,.btn-warning:active.focus,.btn-warning.active.focus,.open > .dropdown-toggle.btn-warning.focus{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning:active,.btn-warning.active,.open > .dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled:hover,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning:hover,.btn-warning.disabled:focus,.btn-warning[disabled]:focus,fieldset[disabled] .btn-warning:focus,.btn-warning.disabled.focus,.btn-warning[disabled].focus,fieldset[disabled] .btn-warning.focus{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger:focus,.btn-danger.focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active,.btn-danger.active,.open > .dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active:hover,.btn-danger.active:hover,.open > .dropdown-toggle.btn-danger:hover,.btn-danger:active:focus,.btn-danger.active:focus,.open > .dropdown-toggle.btn-danger:focus,.btn-danger:active.focus,.btn-danger.active.focus,.open > .dropdown-toggle.btn-danger.focus{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger:active,.btn-danger.active,.open > .dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled:hover,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger:hover,.btn-danger.disabled:focus,.btn-danger[disabled]:focus,fieldset[disabled] .btn-danger:focus,.btn-danger.disabled.focus,.btn-danger[disabled].focus,fieldset[disabled] .btn-danger.focus{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#000;font-weight:400;border-radius:0}.btn-link,.btn-link:active,.btn-link.active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#000;text-decoration:none;background-color:transparent}.btn-link[disabled]:hover,fieldset[disabled] .btn-link:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none}.btn-lg{padding:10px 16px;font-size:20px;line-height:1.3333333;border-radius:6px}.btn-sm{padding:5px 10px;font-size:14px;line-height:1.5;border-radius:3px}.btn-xs{padding:1px 5px;font-size:14px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block + .btn-block{margin-top:5px}
.dropup,.dropdown{position:relative}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:16px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,0.175);box-shadow:0 6px 12px rgba(0,0,0,0.175);-webkit-background-clip:padding-box;background-clip:padding-box}.dropdown-menu.pull-right{right:0;left:auto}.dropdown-menu .divider{height:1px;margin:10px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu > li > a{display:block;padding:3px 10px;clear:both;font-weight:400;line-height:1.4;color:#333;white-space:nowrap}.dropdown-menu > li > a:hover,.dropdown-menu > li > a:focus{text-decoration:none;color:#262626;background-color:#f5f5f5}.dropdown-menu > .active > a,.dropdown-menu > .active > a:hover,.dropdown-menu > .active > a:focus{color:#fff;text-decoration:none;outline:0;background-color:#195eff}.dropdown-menu > .disabled > a,.dropdown-menu > .disabled > a:hover,.dropdown-menu > .disabled > a:focus{color:#777}.dropdown-menu > .disabled > a:hover,.dropdown-menu > .disabled > a:focus{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:not-allowed}.open > .dropdown-menu{display:block}.open > a{outline:0}.dropdown-menu-right{left:auto;right:0}.dropdown-menu-left{left:0;right:auto}.dropdown-header{display:block;padding:3px 10px;font-size:14px;line-height:1.4;color:#777;white-space:nowrap}.dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}.pull-right > .dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px dashed;border-bottom:4px solid \9;content:""}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}
.nav{margin-bottom:0;padding-left:0;list-style:none}.nav > li{position:relative;display:block}.nav > li > a{position:relative;display:block;padding:5px 10px}.nav > li > a:hover,.nav > li > a:focus{text-decoration:none;background-color:#a52a2a}.nav > li.disabled > a{color:#777}.nav > li.disabled > a:hover,.nav > li.disabled > a:focus{color:#777;text-decoration:none;background-color:transparent;cursor:not-allowed}.nav .open > a,.nav .open > a:hover,.nav .open > a:focus{background-color:#a52a2a;border-color:#000}.nav .nav-divider{height:1px;margin:10px 0;overflow:hidden;background-color:#e5e5e5}.nav > li > a > img{max-width:none}.nav-pills > li{float:left}.nav-pills > li > a{border-radius:4px}.nav-pills > li + li{margin-left:2px}.nav-pills > li.active > a,.nav-pills > li.active > a:hover,.nav-pills > li.active > a:focus{color:#fff;background-color:#195eff}.nav-stacked > li{float:none}.nav-stacked > li + li{margin-top:0px;margin-left:0}.navbar{position:relative;min-height:48px;max-height:48px;margin-bottom:22px;border:1px solid transparent}@media (min-width: 768px){.navbar{border-radius:4px}}@media (max-device-width: 480px) and (orientation: landscape){.navbar-fixed-top .navbar-collapse,.navbar-fixed-bottom .navbar-collapse{max-height:200px}}.navbar-static-top{z-index:1000;border-width:0 0 1px}@media (min-width: 768px){.navbar-static-top{border-radius:0}}.navbar-fixed-top,.navbar-fixed-bottom{position:fixed;right:0;left:0;z-index:1030}@media (min-width: 768px){.navbar-fixed-top,.navbar-fixed-bottom{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}@media (min-width: 768px){.navbar > .container .navbar-brand,.navbar > .container-fluid .navbar-brand{margin-left:-15px}}.navbar-fixed-bottom .navbar-nav > li > .dropdown-menu{margin-bottom:0;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.navbar-default{background-color:#7d1935;border-color:#611329}.navbar-default .navbar-nav > li > a{color:#fff}.navbar-default .navbar-nav > li > a:hover,.navbar-default .navbar-nav > li > a:focus{color:#fff;background-color:#a52a2a}.navbar-default .navbar-nav > .active > a,.navbar-default .navbar-nav > .active > a:hover,.navbar-default .navbar-nav > .active > a:focus{color:#fff;background-color:#611329}.navbar-default .navbar-nav > .disabled > a,.navbar-default .navbar-nav > .disabled > a:hover,.navbar-default .navbar-nav > .disabled > a:focus{color:#ccc;background-color:transparent}.navbar-default .navbar-toggle{border-color:#a52a2a}.navbar-default .navbar-toggle:hover,.navbar-default .navbar-toggle:focus{background-color:#a52a2a}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#611329}.navbar-default .navbar-nav > .open > a,.navbar-default .navbar-nav > .open > a:hover,.navbar-default .navbar-nav > .open > a:focus{background-color:#611329;color:#fff}@media (max-width: 767px){.navbar-default .navbar-nav .open .dropdown-menu > li > a{color:#fff}.navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,.navbar-default .navbar-nav .open .dropdown-menu > li > a:focus{color:#fff;background-color:#a52a2a}.navbar-default .navbar-nav .open .dropdown-menu > .active > a,.navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,.navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus{color:#fff;background-color:#611329}.navbar-default .navbar-nav .open .dropdown-menu > .disabled > a,.navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:hover,.navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:focus{color:#ccc;background-color:transparent}}.navbar-default .navbar-link{color:#fff}.navbar-default .navbar-link:hover{color:#fff}.navbar-default .btn-link{color:#fff}.navbar-default .btn-link:hover,.navbar-default .btn-link:focus{color:#fff}
.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.label:hover,a.label:focus{color:#fff;text-decoration:none;cursor:pointer}.label:empty{display:none}.btn .label{position:relative;top:-1px}.label-default{background-color:#777}.label-default[href]:hover,.label-default[href]:focus{background-color:#5e5e5e}.label-primary{background-color:#195eff}.label-primary[href]:hover,.label-primary[href]:focus{background-color:#0045e5}.label-success{background-color:#00bc16}.label-success[href]:hover,.label-success[href]:focus{background-color:#008910}.label-info{background-color:#5bc0de}.label-info[href]:hover,.label-info[href]:focus{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:hover,.label-warning[href]:focus{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:hover,.label-danger[href]:focus{background-color:#c9302c}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:14px;font-weight:700;color:#fff;line-height:1;vertical-align:middle;white-space:nowrap;text-align:center;background-color:#000;border-radius:10px}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.btn-xs .badge,.btn-group-xs > .btn .badge{top:0;padding:1px 5px}a.badge:hover,a.badge:focus{color:#fff;text-decoration:none;cursor:pointer}
.nav-pills > .active > a > .badge{color:#000;background-color:#fff}.nav-pills > li > a > .badge{margin-left:3px}
.clearfix:before,.clearfix:after,.container:before,.container:after,.container-fluid:before,.container-fluid:after,.row:before,.row:after,.form-horizontal .form-group:before,.form-horizontal .form-group:after,.nav:before,.nav:after,.navbar:before,.navbar:after,.navbar-header:before,.navbar-header:after,.navbar-collapse:before,.navbar-collapse:after{content:" ";display:table}.clearfix:after,.container:after,.container-fluid:after,.row:after,.form-horizontal .form-group:after,.nav:after,.navbar:after,.navbar-header:after,.navbar-collapse:after{clear:both}
.pull-right { float: right !important; } .pull-left { float: left !important; }

 
html { font-size:16px; }
body:not(.en) :lang(en), body:not(.el) :lang(el), body:not(.fr) :lang(fr) { display: none; }
body {
  font-size: 16px; line-height: 1.45; color: #000000;  background-color: #eceff1;
  margin: 0; padding-top: 70px; 
  font-family: 'Open Sans', 'Times New Roman', sans-serif;
  -webkit-animation: bugfix infinite 1s;
}
@-webkit-keyframes bugfix { from { fill: 0; } to { fill: 0; } }

a { color: #000; word-wrap: break-word; text-decoration: none; }
a:hover, a:focus, a:active { color: black; text-decoration: none; }
a.label { box-shadow: 2px 3px 4px 0px rgba(0,0,0,0.75); }
figure {  display: table; margin: 10px auto; }
figure figcaption { caption-side: bottom; color: darkblue; display: table-caption;
font-size: 14px; margin-top: 5px; text-align:justify; }
h1, h2, h3, h4, h5, h6 { margin:0px; text-align: justify; }
img { max-width: 100%; }
img.bordered { border:1px solid #021a40;  border-radius:20px; box-shadow: 2px 3px 4px 0px rgba(0,0,0,0.75); }
li { line-height: 1.5rem; text-align:justify; }
p { text-align:justify; text-indent: 30px; }
section { margin-top: 1rem; margin-bottom: 1rem; }
section>header { margin-bottom: .3rem; }
ul, ol { padding-left: 1.5rem; }

article .image { background-size: cover; background-position: center; }
article time { font-size: .8rem; }
article.grid { max-width:384px; margin-bottom:0.5rem; height:26rem; overflow: hidden; }
article.grid .image { min-height: 12rem; }
article.grid footer { padding: 1rem; background-color: #ffffe6; }
article.grid .title { overflow: hidden; }
article.grid .summary { color: #333; font-size: .8rem; line-height: 1rem; max-height: 5rem; overflow: hidden; }
article.single { background-color: #fff; margin: 0 auto; padding-bottom: 1rem; max-width:1200px; }
article.single .image { max-width:786px; min-height: 24rem; margin-left:auto; margin-right:auto; }
article.single .body { margin-bottom: 2rem;  padding: 0 5rem; }
article.single .body a:not(.label) { color: #78909c; text-decoration: underline; }
article.single .body>h1, article.single .body>h2, article.single .body>h3 { padding-top: 60px; margin-top: -30px; margin-bottom: 0.5rem; }
article.single .body li {  margin: 0.5rem auto; }
article.li { margin-bottom: .5rem; font-size: .8rem; line-height: 1rem; }
article.li .cell { display:table-cell; vertical-align: middle; }
article.li .image { width: 4.1rem; height: 4.1rem; box-shadow: 2px 3px 4px 0px rgba(0,0,0,0.75); }
article.li footer { display:table-cell; vertical-align: middle; padding-left: .5rem;  }
article.li time { font-size: .7rem; }
article.li .title { font-size: 0.85rem; line-height: 1rem; font-weight: 700; }

.body .title { font-size: 2rem; line-height: 3rem; margin: 0.5rem auto; }
.label { display:inline-block; padding-top: 0.25rem; }

.navbar * { color: white !important; }
.navbar .dropdown-menu a:hover { background-color: brown; }
.nav>li>a:hover, .nav>li>a:focus { color: white; background-color: brown; }
.nav-pills { display: inline-block; margin: 0; }
.nav-pills>li.active>a { font-weight: 700 !important; background-color: #00bc16 !important; }
.nav-pills>li.active>a .badge { color: #00bc16; }
.cssdropdown { margin-top: 2rem; }
.cssdropdown input[type=checkbox], .cssdropdown ul { display: none; }
.cssdropdown label { font-size: 1.25rem; font-weight:700; min-width: 300px; }
.cssdropdown input[type=checkbox]:checked ~ ul { display: table-cell; }

.p-logo {
  font-family: 'Comic Sans MS', cursive; font-weight: bold; font-size: 2rem;
  text-shadow: 4px 2px 2px rgba(0,0,0,0.75);
  margin-top: 3px;
}
.l-footer * { color: white; }
.l-footer { background-color: #7D1935; padding: 0.75rem 0; text-align: center; }

.lgfont { font-size: 2rem; }
.margin-sm { margin: 0.5rem; }
.side-margins-1 { margin-left: 1rem !important; margin-right: 1rem !important; }
.side-margins-2 { margin-left: 2rem !important;; margin-right: 2rem !important; }
.margin-top-sm {  margin-top: 0.5rem; }
.topmargin5 {  margin-top: 5px; }
.topmargin7 { margin-top: 7px; }

#search-section, #results-section { display:none; }
#TableOfContents ul { list-style: none; }
#TableOfContents>ul {  padding-left: 0; font-weight: 700; }
#TableOfContents>ul ul { font-weight: normal; }

.summary { text-align:justify; }
.max-width640 { max-width: 640px; }
.floatleft { float:left; margin-right: 10px; }
.floatright { float:right; margin-left: 10px; }

.centered { margin-left: auto !important;  margin-right: auto !important; }
img.centered { display:block !important; }
div.centered, p.centered, figcaption.centered, nav.centered, table.centered, h1.centered, h2.centered, h3.centered { text-align:center !important; }

@media (max-width: 768px) {
  h1 { font-size: 1.4rem; line-height: 1.5rem; }
  h2 { font-size: 1.2rem; line-height: 1.5rem; }
  article.single .image { min-height: 12rem; }
  article.single .body pre { margin: 1rem -1rem; }
  article.single .body pre code { padding: 1rem 1rem; }
  article.single .body { padding: 0 1rem; }
  ul.scroll-menu { max-height: 250px; }
  .cssdropdown label, .nav-stacked>li>a { min-width: 240px; }
  .hidden768 { display:none; }
  .text-smaller {
    font-family: 'Open Sans', 'Times New Roman', sans-serif;
    font-size: 1rem;  font-weight: 700; letter-spacing: -1px;
    padding-left: 0px !important;  padding-right: 0px !important;
    line-height:32px;
  }
}
</style>
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://alamot.github.io/index.xml">

  <link href="https://alamot.github.io/index.xml" rel="alternate" type="application/rss+xml" title="The Portal of Knowledge" />


  <title>How to write your own Operating System (x86_64): Interrupts - The Portal of Knowledge</title>
  <meta property='og:title' content="How to write your own Operating System (x86_64): Interrupts - The Portal of Knowledge">
  <meta property="og:type" content="article">
  <meta name="description" content="A series of articles that provide guidance for writing your own Operating System (x86_64). Μια σειρά από άρθρα που παρέχουν οδηγίες για το πως να γράψετε το δικό σας Λειτουργικό Σύστημα (x86_64).">
  <meta property="og:description" content="A series of articles that provide guidance for writing your own Operating System (x86_64). Μια σειρά από άρθρα που παρέχουν οδηγίες για το πως να γράψετε το δικό σας Λειτουργικό Σύστημα (x86_64).">
  <meta property="og:image" content="https://alamot.github.io/images/os3.jpg">
  <meta property="og:image:width" content="768" />
  <meta property="og:image:height" content="384" />

<meta property="og:url" content="https://alamot.github.io/os_isr/">


<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https:\/\/alamot.github.io\/"
    },
    "headline": "How to write your own Operating System (x86_64): Interrupts |  ",
    "image": {
      "@type": "ImageObject",
      "url": "",
      "height": 700,
      "width": 700
    },
    "datePublished": "2022-04-21T00:00:00JST",
    "dateModified": "2022-04-21T00:00:00JST",
    "author": {
      "@type": "Person",
      "name": "Antonios Tsolis",
      "image": "https:\/\/alamot.github.io\/images/logo.png"
    },
    "publisher": {
      "@type": "Organization",
      "name": "",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/alamot.github.io\/images/logo.png",
        "height": 60,
        "width": 60
      }
    },
    "description": ""
  }
</script>
</head>
<body id="mainbody" class="en" lang="en">
<nav class="navbar navbar-default navbar-fixed-top centered">
<div class="container-fluid">
  
   <ul class="nav nav-pills pull-left topmargin7">
    <li id="content-selector" role="presentation" class="dropdown">
    <a class="dropdown-toggle btn-danger" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"><span lang="en">Contents</span><span lang="el">Περιεχόμενα</span> <i class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul class="dropdown-menu scroll-menu">
        <li><a href="#title"><span lang="en">Start</span><span lang="el">Αρχή</span></a></li>
        
        
        
         
<li><a href="#intro"><span lang="en">Introduction</span><span lang="el">Εισαγωγή</span></a></li>
<li><a href="#kernelcode"><span lang="en">Kernel Code: Interrupts</span><span lang="el">Κώδικας του Πυρήνα: Διακοπές</span></a>
<ul>
<li><a href="#kernel-idt-asm">kernel/idt.asm</a></li>
<li><a href="#kernel-video-asm">kernel/video.asm</a></li>
<li><a href="#kernel-isr-asm">kernel/isr.asm</a></li>
<li><a href="#kernel-kernel-asm">kernel/kernel.asm</a></li>
</ul></li>
<li><a href="#runningcode"><span lang="en">Running our code</span><span lang="el">Εκτέλεση του κώδικά μας</span></a></li>
<li><a href="#fullcode"><span lang="en">Full code</span><span lang="el">Πλήρης κώδικας</span></a></li>
<li><a href="#reference"><span lang="en">References</span><span lang="el">Αναφορές</span></a></li>
 
      
        <li><a href="#posts-section"><span lang="en">See also</span><span lang="el">Δείτε επίσης</span></a></li>
      </ul>
    </li>
   </ul>
  
   
  <ul class="nav nav-pills">
      <li><a class="p-logo" href="https://alamot.github.io/"><i class="fa fa-home" aria-hidden="true"></i> <span class="hidden768" lang="en">The Portal of Knowledge</span><span class="hidden768" lang="el">Η Πύλη της Γνώσης</span></a></li>
  </ul>
  
  <ul class="nav nav-pills pull-right topmargin7"> 
    <li id="lang-selector" role="presentation" class="dropdown">
      <a id="lang-index" class="dropdown-toggle btn-primary" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Language <i class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul class="dropdown-menu">
        <li><a id="en" href="#">English</a></li>
        <li><a id="el" href="#">Ελληνικά</a></li>
      </ul>
    </li>  
  </ul>
</div>
</nav>
<script>
langtext = "English";
language = localStorage.getItem('language');
if (language) {
  document.getElementById('mainbody').setAttribute('class', language);
  document.getElementById('mainbody').setAttribute('lang', language);
  if (language == 'el') { langtext="Ελληνικά"; }
  document.getElementById("lang-index").innerHTML=langtext+' <i class="fa fa-caret-down" aria-hidden="true"></i>';
}
</script>




<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <article class="single centered">
        <div class="image" style="background-image: url(https://alamot.github.io/images/os3.jpg);"></div>
        <div class="body">
            <header lang="en"><h1 id="title" class="title">How to write your own Operating System (x86_64): Interrupts</h1></header>
            <header lang="el"><h1 class="title">Πως να γράψετε το δικό σας Λειτουργικό Σύστημα (x86_64): Διακοπές</h1></header>
            <i class="fa fa-calendar topmargin7"  aria-hidden="true"></i>  
            <time lang="en" class="topmargin7">21 Apr 2022</time>
            <time lang="el" class="topmargin7">21 Απρ 2022</time>
            &middot; <i class="fa fa-folder-open-o topmargin7" aria-hidden="true"></i>
            
              <a class="label label-success topmargin7" href='https://alamot.github.io/categories/coding'>
                <span lang="en">Coding</span>
                <span lang="el">Προγραμματισμός</span>
              </a>
            
            &middot; <i class="fa fa-tags topmargin7" aria-hidden="true"></i>
            
              <a class="label label-primary topmargin7" href='https://alamot.github.io/tags/assembly'>
                <span lang="en">assembly</span>
                <span lang="el">assembly</span>
                </a>
            
              <a class="label label-primary topmargin7" href='https://alamot.github.io/tags/os'>
                <span lang="en">os</span>
                <span lang="el">λειτουργικό σύστημα</span>
                </a>
            
         
         <aside>
          <section>
            <header lang="en"><h2>Contents</h2></header>
            <header lang="el"><h2>Περιεχόμενα</h2></header>
            <div><nav id="TableOfContents">
<ul>
<li><a href="#intro"><span lang="en">Introduction</span><span lang="el">Εισαγωγή</span></a></li>
<li><a href="#kernelcode"><span lang="en">Kernel Code: Interrupts</span><span lang="el">Κώδικας του Πυρήνα: Διακοπές</span></a>
<ul>
<li><a href="#kernel-idt-asm">kernel/idt.asm</a></li>
<li><a href="#kernel-video-asm">kernel/video.asm</a></li>
<li><a href="#kernel-isr-asm">kernel/isr.asm</a></li>
<li><a href="#kernel-kernel-asm">kernel/kernel.asm</a></li>
</ul></li>
<li><a href="#runningcode"><span lang="en">Running our code</span><span lang="el">Εκτέλεση του κώδικά μας</span></a></li>
<li><a href="#fullcode"><span lang="en">Full code</span><span lang="el">Πλήρης κώδικας</span></a></li>
<li><a href="#reference"><span lang="en">References</span><span lang="el">Αναφορές</span></a></li>
</ul>
</nav></div>
          </section>
         </aside>
        
        

<h1 id="intro"><span lang="en">Introduction</span><span lang="el">Εισαγωγή</span></h1>

<p lang="en">In our previous articles, we showed <a href="/os_stage1/">how to implement a bootloader</a> and <a href="/os_stage2/">how to enter the long mode</a>. In this part, we will discuss the Interrupts. An Interrupt is a signal emitted by hardware or software when a process or an event needs attention. Usually, an Interrupt Vector Table (IVT) is used to determine the proper response to three types of events: Hardware Interrupts, Software Interrupts, and Processor Exceptions. In the x86_64 architecture, this data structure is named Interrupt Descriptor Table (<strong>IDT</strong>) and consists of 256 interrupt vectors, the first 32 of which (0–31 or 0x00–0x1F) are reserved for the processor exceptions.</p>
<p lang="el">Σε προηγούμενα άρθρα μας, είδαμε <a href="/os_stage1/">πώς να υλοποιήσουμε έναν εκκινητή</a> και <a href="/os_stage2/">πώς να μπούμε στη λειτουργία μακράς κατάστασης</a>. Σε αυτό το μέρος, θα συζητήσουμες τις Διακοπές. Μια Διακοπή είναι ένα σήμα που παράγεται από το υλικό ή το λογισμικό όταν μια διεργασία ή ένα συμβάν χρειάζεται προσοχή. Σύνηθως, ένας Διανυσματικός Πίνακας Διακοπών (Interrupt Vector Table, IVT) χρησιμοποιείται για να καθοριστεί η κατάλληλη απάντηση σε τρια ήδη συμβάντων: Διακοπές Υλικού (Hardware Interrupts), Διακοπές Λογισμικού (Software Interrupts) και Εξαιρέσεις Επεξεργαστή (Processor Exceptions). Στην αρχιτεκτονική x86_64, αυτή η δομή δεδομένων ονομάζεται Πίνακας Περιγραφής Διακοπών (Interrupt Descriptor Table, <strong>IDT</strong>) και αποτελείται από 256 διανύσματα Διακοπών, από τα οποία τα 32 πρώτα (0–31 ή 0x00–0x1F) είναι δεσμευμένα για τις Εξαιρέσεις του Επεξεργαστή.</p>

<h1 id="kernelcode"><span lang="en">Kernel Code: Interrupts</span><span lang="el">Κώδικας του Πυρήνα: Διακοπές</span></h1>

<h2 id="kernel-idt-asm">kernel/idt.asm</h2>

<p lang="en">In this file, we define our Interrupt Descriptor Table (<strong>IDT</strong>). For the time being, we have set up Interrupt Services Routines (ISR) for some CPU Exceptions ("Division by zero", "General Protection Fault" and "Page Fault") and for two IRQs, IRQ0 (Programmable Interval Timer) and IRQ1 (Keyboard). The value 0x8F means a "Trap Gate", while the value 0x8E means an "Interrupt gate". The important difference between trap and interrupt gates is that interrupt gates will disable further processor handling of maskable interrupts.</p>
<p lang="el">Σε αυτό το αρχείο, ορίζουμε τον Πίνακα Περιγραφής Διακοπών (Interrupt Descriptor Table, <strong>IDT</strong>). Προς το παρόν, έχουμε ορίσει Ρουτίνες Εξυπηρέτησης Διακοπών (Interrupt Services Routines, ISR) για μερικες Εξαιρέσεις του Επεξεργαστή ("Διαίρεση με το μηδέν", "Γενικό Σφάλμα Προστασίας" και "Σφάλμα Σελίδας") και για δύο IRQs, τα IRQ0 (Χρονιστής Προγραμματιζόμενης Περιόδου) και IRQ1 (Πληκτρολόγιο). Η τιμή 0x8F σημαίνει μια "Πύλη Παγίδευσης (Trap Gate)", ενώ η τιμή 0x8E σημαίνει μια "Πύλη Διακοπής (Interrupt Gate)". Η σημαντική διαφορά ανάμεσα στις πύλες Παγίδευσης και Διακοπής είναι ότι οι Πύλες Διακοπών απενεργοποιούν τον χειρισμό επιπλέον παρεμποδιζόμενων/αποκρύψιμων (maskable) Διακοπών.</p>

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nasm" data-lang="nasm"><span class="line"><span class="cl"><span class="c1">;**************************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Interrupt Descriptor Table (IDT)                                                     ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;**************************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; The Interrupt Descriptor Table (IDT) is a data structure used to implement an        ; </span>
</span></span><span class="line"><span class="cl"><span class="c1">; Interrupt Vector Table (IVT), i.e. to determine the proper response to three types   ; </span>
</span></span><span class="line"><span class="cl"><span class="c1">; of events: hardware interrupts, software interrupts, and processor exceptions.       ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; The IDT consists of 256 interrupt vectors, the first 32 (0–31 or 0x00–0x1F) of which ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; are used for processor exceptions.                                                   ;   </span>
</span></span><span class="line"><span class="cl"><span class="c1">;**************************************************************************************;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="no">BASE_OF_SECTION</span><span class="kd"> equ</span> <span class="mh">0x8000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">; We use a macro to simplify a little each IDT entry </span>
</span></span><span class="line"><span class="cl"><span class="cp">%macro .idtentry 3
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kd">dw</span> <span class="p">((</span><span class="nv">BASE_OF_SECTION</span> <span class="o">+</span> <span class="o">%</span><span class="mi">1</span> <span class="o">-</span> <span class="kc">$$</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1024</span>    <span class="c1">; Low word bits (0-15) of offset</span>
</span></span><span class="line"><span class="cl"><span class="kd">dw</span> <span class="o">%</span><span class="mi">2</span>                                               <span class="c1">; Code-Segment-Selector</span>
</span></span><span class="line"><span class="cl"><span class="kd">db</span> <span class="mi">0</span>                                                <span class="c1">; Always zero</span>
</span></span><span class="line"><span class="cl"><span class="kd">db</span> <span class="o">%</span><span class="mi">3</span>                                               <span class="c1">; Type and Attributes</span>
</span></span><span class="line"><span class="cl"><span class="kd">dw</span> <span class="p">((</span><span class="nv">BASE_OF_SECTION</span> <span class="o">+</span> <span class="o">%</span><span class="mi">1</span> <span class="o">-</span> <span class="kc">$$</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span>     <span class="c1">; Middle bits (16-31) of offset</span>
</span></span><span class="line"><span class="cl"><span class="kd">dd</span> <span class="p">((</span><span class="nv">BASE_OF_SECTION</span> <span class="o">+</span> <span class="o">%</span><span class="mi">1</span> <span class="o">-</span> <span class="kc">$$</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">32</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFFFFFFFF</span> <span class="c1">; High bits (32-64) of offset</span>
</span></span><span class="line"><span class="cl"><span class="kd">dd</span> <span class="mi">0</span>                                                <span class="c1">; Reserved</span>
</span></span><span class="line"><span class="cl"><span class="cp">%endmacro
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="nl">IDT_START:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;*************************************************************************************</span>
</span></span><span class="line"><span class="cl"><span class="c1">; IDT Entry: Address of Interrupt Service Routine, Code Segment Selector, Attributes ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;*************************************************************************************</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_Division_by_Zero</span><span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;0 (Division by zero)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;1 (Debug Exception)     </span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;2 (NMI, Non-Maskable Interrupt)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;3 (Breakpoint Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;4 (INTO Overflow)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;5 (Out of Bounds)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;6 (Invalid Opcode)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;7 (Device Not Available)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;8 (Double Fault) </span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;9 (Deprecated)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;10 (Invalid TSS) </span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;11 (Segment Not Present)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;12 (Stack-Segment Fault)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_GPF</span>             <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;13 (General Protection Fault)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_Page_Fault</span>      <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;14 (Page Fault)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;15 (Reserved)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;16 (x87 Floating-Point Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;17 (Alignment Check Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;18 (Machine Check Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;19 (SIMD Floating-Point Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;20 (Virtualization Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;21 (Control Protection Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;22 (Reserved)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;23 (Reserved)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;24 (Reserved)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;25 (Reserved)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;26 (Reserved)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;27 (Reserved)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;28 (Hypervisor Injection Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;29 (VMM Communication Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;30 (Security Exception)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;31 (Reserved)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_systimer</span>        <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;32 (IRQ0: Programmable Interval Timer)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_keyboard</span>        <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8E</span>  <span class="c1">;33 (IRQ1: Keyboard)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;34 (IRQ2: PIC Cascade, used internally)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;35 (IRQ3: COM2, if enabled)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;36 (IRQ4: COM1, if enabled)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;37 (IRQ5: LPT2, if enabled)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;38 (IRQ6: Floppy Disk)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;39 (IRQ7: LPT1)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;40 (IRQ8: CMOS real-time clock)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;41 (IRQ9: Free)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;42 (IRQ10: Free)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;43 (IRQ11: Free)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;44 (IRQ12: PS2 Mouse)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;45 (IRQ13: Coprocessor)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;46 (IRQ14: Primary ATA Hard Disk)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.idtentry</span> <span class="nv">ISR_dummy</span>           <span class="p">,</span> <span class="nv">CODE_SEG</span><span class="p">,</span> <span class="mh">0x8F</span>  <span class="c1">;47 (IRQ15: Secondary ATA Hard Disk)</span>
</span></span><span class="line"><span class="cl"><span class="c1">; ...</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Although the IDT can contain less than 256 entries, any entries that are not present</span>
</span></span><span class="line"><span class="cl"><span class="c1">; will generate a General Protection Fault when an attempt to access them is made.</span>
</span></span><span class="line"><span class="cl"><span class="nl">IDT_END:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">; The IDTR is the argument for the LIDT assembly instruction</span>
</span></span><span class="line"><span class="cl"><span class="c1">; which loads the location of the IDT to the IDT Register. </span>
</span></span><span class="line"><span class="cl"><span class="k">ALIGN</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="nl">IDTR:</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.Length</span> <span class="nv">dw</span> <span class="nv">IDT_END</span><span class="o">-</span><span class="nv">IDT_START</span><span class="o">-</span><span class="mi">1</span> <span class="c1">; One less than the size of the IDT in bytes.</span>
</span></span><span class="line"><span class="cl">  <span class="nf">.Base</span>   <span class="nv">dd</span> <span class="nv">IDT_START</span>           <span class="c1">; The linear address of the Interrupt Descriptor Table </span>
</span></span><span class="line"><span class="cl">                                 <span class="c1">; (not the physical address, paging applies).</span></span></span></code></pre></div>

<h2 id="kernel-video-asm">kernel/video.asm</h2>

<p lang="en">Before we go any further, in order to get some feedback, we have to write some code that print messages on the screen. We cannot depend on the BIOS services any more, because the BIOS is designed to run in real mode (and we are now in long mode). Thus, we have to write our own graphics driver that access the video memory directly:</p>
<p lang="el">Πριν προχωρήσουμε παρακάτω, για να μπορούμε να έχουμε κάποια ανάδραση για το τι συμβαίνει, πρέπει να γράψουμε κάποιον κώδικα που θα εκτυπώνει μηνύματα στην οθόνη μας. Δεν μπορούμε να βασιζόμαστε πλέον στις υπηρεσίες του BIOS, μιας και το BIOS έχει σχεδιαστεί για να τρέχει σε λειτουργία πραγματικής κατάστασης (real mode), ενώ εμείς βρισκόμαστε τώρα σε λειτουργία μακράς κατάστασης (long mode). Οπότε, πρέπει να γράψουμε τον δικό μας οδηγό γραφικών (graphics driver) ο οποίος θα επεξεργάζεται απευθείας τη μνήμη των γραφικών:</p>

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nasm" data-lang="nasm"><span class="line"><span class="cl"><span class="k">BITS</span> <span class="mi">64</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;---Initialized data----------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="nf">VRAM</span> <span class="nv">dq</span> <span class="mh">0xB8000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;---Constants-----------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_WIDTH</span><span class="kd"> equ</span> <span class="mi">80</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_HEIGHT</span><span class="kd"> equ</span> <span class="mi">25</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Colors</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_BLACK</span><span class="kd"> equ</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_BLUE</span><span class="kd"> equ</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_GREEN</span><span class="kd"> equ</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_CYAN</span><span class="kd"> equ</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_RED</span><span class="kd"> equ</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_MAGENTA</span><span class="kd"> equ</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_BROWN</span><span class="kd"> equ</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_LIGHT_GREY</span><span class="kd"> equ</span> <span class="mi">7</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_DARK_GREY</span><span class="kd"> equ</span> <span class="mi">8</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_LIGHT_BLUE</span><span class="kd"> equ</span> <span class="mi">9</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_LIGHT_GREEN</span><span class="kd"> equ</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_LIGHT_CYAN</span><span class="kd"> equ</span> <span class="mi">11</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_LIGHT_RED</span><span class="kd"> equ</span> <span class="mi">12</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_LIGHT_MAGENTA</span><span class="kd"> equ</span> <span class="mi">13</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_LIGHT_BROWN</span><span class="kd"> equ</span> <span class="mi">14</span>
</span></span><span class="line"><span class="cl"><span class="no">VGA_COLOR_WHITE</span><span class="kd"> equ</span> <span class="mi">15</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;---Code---------------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="nl">Fill_screen:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;*********************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Fill screen                                                                     ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;---------------------------------------------------------------------------------;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; rax (XY__XY__XY__XY__): X -&gt; Background color, Y -&gt; Character color             ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; rax (__ZZ__ZZ__ZZ__ZZ): ASCII code(s) of character(s) to use to fill the screen ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;*********************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rdi</span><span class="p">,</span> <span class="p">[</span><span class="nv">VRAM</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rcx</span><span class="p">,</span> <span class="mi">500</span> <span class="c1">; 80*25 / 4 = 500 (we set 4 characters each time).</span>
</span></span><span class="line"><span class="cl">    <span class="nf">rep</span> <span class="nv">stosq</span>    <span class="c1">; Clear the entire screen.</span>
</span></span><span class="line"><span class="cl">    <span class="nf">ret</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nl">Print:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;**********************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Prints a string                                                                  ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;----------------------------------------------------------------------------------;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; rsi: pointer to string (first 16 bits = the number of characters in the string.) ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;  ah: Color attributes                                                            ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;  r8: x                                                                           ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;  r9: y                                                                           ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;**********************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">dec</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">add</span> <span class="nv">r8</span><span class="p">,</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">dec</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rdi</span><span class="p">,</span> <span class="p">[</span><span class="nv">VRAM</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rax</span><span class="p">,</span> <span class="nv">VGA_WIDTH</span><span class="o">*</span><span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mul</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">add</span> <span class="nv">r8</span><span class="p">,</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">cx</span><span class="p">,</span> <span class="kt">word</span> <span class="p">[</span><span class="nb">rsi</span><span class="p">]</span> <span class="c1">; first 16 bits = the number of characters in the string</span>
</span></span><span class="line"><span class="cl">    <span class="nf">inc</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">   <span class="nl">.string_loop:</span> <span class="c1">; print all the characters in the string</span>
</span></span><span class="line"><span class="cl">        <span class="nf">lodsb</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nb">al</span><span class="p">,</span> <span class="kt">byte</span> <span class="p">[</span><span class="nb">rsi</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="p">[</span><span class="nb">rdi</span><span class="o">+</span><span class="nv">r8</span><span class="p">],</span> <span class="nb">ax</span>
</span></span><span class="line"><span class="cl">        <span class="nf">add</span> <span class="nb">rdi</span><span class="p">,</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="nf">loop</span> <span class="nv">.string_loop</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">ret</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nl">Print_hex:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;**********************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Prints a 16-digit hexadecimal value                                              ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;----------------------------------------------------------------------------------;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; r10: value to be printed                                                         ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;  ah: Color attributes                                                            ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;**********************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r10</span>
</span></span><span class="line"><span class="cl">    <span class="nf">sub</span> <span class="nb">rsp</span><span class="p">,</span> <span class="mi">20</span>         <span class="c1">; make space for the string length (2 bytes) and 18 characters</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rsi</span><span class="p">,</span> <span class="nb">rsp</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rsi</span>            <span class="c1">; store rsi (string address)</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="p">[</span><span class="nb">rsi</span><span class="p">],</span> <span class="kt">word</span> <span class="mi">18</span>  <span class="c1">; string length = 17</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="p">[</span><span class="nb">rsi</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span> <span class="kt">word</span> <span class="s">&#34;0x&#34;</span>  
</span></span><span class="line"><span class="cl">    <span class="nf">add</span> <span class="nb">rsi</span><span class="p">,</span> <span class="mi">19</span>         <span class="c1">; point rsi to the end of the string</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ecx</span><span class="p">,</span> <span class="mi">16</span>        <span class="c1">; loop 16 times (one for each digit)</span>
</span></span><span class="line"><span class="cl">   <span class="nl">.digit:</span>
</span></span><span class="line"><span class="cl">        <span class="nf">push</span> <span class="nv">r10</span>             <span class="c1">; store rax</span>
</span></span><span class="line"><span class="cl">        <span class="nf">and</span> <span class="nv">r10</span><span class="p">,</span> <span class="mh">0Fh</span>         <span class="c1">; isolate digit</span>
</span></span><span class="line"><span class="cl">        <span class="nf">add</span> <span class="nb">r10b</span><span class="p">,</span><span class="s">&#39;0&#39;</span>         <span class="c1">; convert to ascii</span>
</span></span><span class="line"><span class="cl">        <span class="nf">cmp</span> <span class="nb">r10b</span><span class="p">,</span><span class="s">&#39;9&#39;</span>         <span class="c1">; is hex?</span>
</span></span><span class="line"><span class="cl">        <span class="nf">jbe</span> <span class="nv">.nohex</span>          
</span></span><span class="line"><span class="cl">        <span class="nf">add</span> <span class="nb">r10b</span><span class="p">,</span> <span class="mi">7</span>          <span class="c1">; hex</span>
</span></span><span class="line"><span class="cl">       <span class="nl">.nohex:</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="p">[</span><span class="nb">rsi</span><span class="p">],</span> <span class="kt">byte</span> <span class="nb">r10b</span> <span class="c1">; store result</span>
</span></span><span class="line"><span class="cl">        <span class="nf">dec</span> <span class="nb">rsi</span>              <span class="c1">; next position</span>
</span></span><span class="line"><span class="cl">        <span class="nf">pop</span> <span class="nv">r10</span>              <span class="c1">; restore rax</span>
</span></span><span class="line"><span class="cl">        <span class="nf">shr</span> <span class="nv">r10</span><span class="p">,</span> <span class="mi">4</span>           <span class="c1">; right shift by 4 </span>
</span></span><span class="line"><span class="cl">    <span class="nf">loop</span> <span class="nv">.digit</span>         
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rsi</span>       <span class="c1">; restore rsi (string address)</span>
</span></span><span class="line"><span class="cl">    <span class="nf">call</span> <span class="nv">Print</span>
</span></span><span class="line"><span class="cl">    <span class="nf">add</span> <span class="nb">rsp</span><span class="p">,</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r10</span>
</span></span><span class="line"><span class="cl">    <span class="nf">ret</span></span></span></code></pre></div>

<h2 id="kernel-isr-asm">kernel/isr.asm</h2>

<p lang="en">Now, let's examine some of our Interrupt Service Routines:</p>
<p lang="el">Τώρα, ας εξετάσουμε τις Ρουτίνες Εξυπηρέτησης Διακοπών (Interrupt Service Routines):</p>

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nasm" data-lang="nasm"><span class="line"><span class="cl"><span class="c1">; INTERRUPT SERVICE ROUTINES</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">BITS</span> <span class="mi">64</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;---Initialized data----------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="nf">systimer_ticks</span> <span class="nv">dq</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="nf">keyboard_scancode</span> <span class="nv">dq</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="nf">error_code_low</span> <span class="nv">dw</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="nf">error_code_high</span> <span class="nv">dw</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">int_message</span> <span class="nv">dw</span> <span class="mi">17</span>
</span></span><span class="line"><span class="cl"><span class="kd">db</span> <span class="s">&#39;Interrupt raised!&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">division_by_zero_message</span> <span class="nv">dw</span> <span class="mi">17</span>
</span></span><span class="line"><span class="cl"><span class="kd">db</span> <span class="s">&#39;Division by zero!&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">gpf_message</span> <span class="nv">dw</span> <span class="mi">25</span>
</span></span><span class="line"><span class="cl"><span class="kd">db</span> <span class="s">&#39;General Protection Fault!&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">pf_message</span> <span class="nv">dw</span> <span class="mi">11</span>
</span></span><span class="line"><span class="cl"><span class="kd">db</span> <span class="s">&#39;Page Fault!&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;---Code------------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="nl">ISR_dummy:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;***************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Just a dummy generic handler. It prints the message &#34;Interrupt raised!&#34;.  ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;***************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">cli</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ah</span><span class="p">,</span> <span class="p">(</span><span class="nv">VGA_COLOR_RED</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="nv">VGA_COLOR_LIGHT_BROWN</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r8</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r9</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rsi</span><span class="p">,</span> <span class="nv">int_message</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Call</span> <span class="nv">Print</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nl">.halt:</span> <span class="nf">hlt</span>
</span></span><span class="line"><span class="cl">    <span class="nf">jmp</span> <span class="nv">.halt</span> <span class="c1">; Infinite loop</span>
</span></span><span class="line"><span class="cl">    <span class="nf">iretq</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nl">ISR_Division_by_Zero:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;***************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Divizion by zero handler                                                  ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;***************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">cli</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ah</span><span class="p">,</span> <span class="p">(</span><span class="nv">VGA_COLOR_RED</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="nv">VGA_COLOR_LIGHT_BROWN</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r8</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r9</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rsi</span><span class="p">,</span> <span class="nb">di</span><span class="nv">vision_by_zero_message</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Call</span> <span class="nv">Print</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nl">.halt:</span> <span class="nf">hlt</span>
</span></span><span class="line"><span class="cl">    <span class="nf">jmp</span> <span class="nv">.halt</span> <span class="c1">; Infinite loop</span>
</span></span><span class="line"><span class="cl">    <span class="nf">iretq</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nl">ISR_GPF:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;***************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; General Protection Fault handler                                                  ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;***************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">cli</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ah</span><span class="p">,</span> <span class="p">(</span><span class="nv">VGA_COLOR_RED</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="nv">VGA_COLOR_LIGHT_BROWN</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r8</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r9</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rsi</span><span class="p">,</span> <span class="nv">gpf_message</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Call</span> <span class="nv">Print</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nl">.halt:</span> <span class="nf">hlt</span>
</span></span><span class="line"><span class="cl">    <span class="nf">jmp</span> <span class="nv">.halt</span> <span class="c1">; Infinite loop</span>
</span></span><span class="line"><span class="cl">    <span class="nf">iretq</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nl">ISR_Page_Fault:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;***************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Page Fault handler                                                  ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;***************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">cli</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="kt">word</span> <span class="p">[</span><span class="nv">error_code_high</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="kt">word</span> <span class="p">[</span><span class="nv">error_code_low</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ah</span><span class="p">,</span> <span class="p">(</span><span class="nv">VGA_COLOR_RED</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="nv">VGA_COLOR_LIGHT_BROWN</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r8</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r9</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rsi</span><span class="p">,</span> <span class="nv">pf_message</span>
</span></span><span class="line"><span class="cl">    <span class="nf">call</span> <span class="nv">Print</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rsi</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r9</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nv">r8</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nl">.halt:</span> <span class="nf">hlt</span> 
</span></span><span class="line"><span class="cl">    <span class="nf">jmp</span> <span class="nv">.halt</span> <span class="c1">; Infinite loop</span>
</span></span><span class="line"><span class="cl">    <span class="nf">iretq</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nl">ISR_systimer:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;*****************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; System Timer Interrupt Service Routine (IRQ0 mapped to INT 0x20)            ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;*****************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">inc</span> <span class="kt">qword</span> <span class="p">[</span><span class="nv">systimer_ticks</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">al</span><span class="p">,</span> <span class="nv">PIC_EOI</span>      <span class="c1">; Send EOI (End of Interrupt) command</span>
</span></span><span class="line"><span class="cl">    <span class="nf">out</span> <span class="nv">PIC1_COMMAND</span><span class="p">,</span> <span class="nb">al</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">iretq</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nl">ISR_keyboard:</span>
</span></span><span class="line"><span class="cl"><span class="c1">;*****************************************************************************;</span>
</span></span><span class="line"><span class="cl"><span class="c1">; Keyboard Controller Interrupt Service Routine (IRQ1 mapped to INT 0x21)     ;</span>
</span></span><span class="line"><span class="cl"><span class="c1">;*****************************************************************************;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">push</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">xor</span> <span class="nb">rax</span><span class="p">,</span> <span class="nb">rax</span>         
</span></span><span class="line"><span class="cl">    <span class="nf">in</span> <span class="nb">al</span><span class="p">,</span> <span class="mh">0x60</span>          <span class="c1">; MUST read byte from keyboard (else no more interrupts).</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="p">[</span><span class="nv">keyboard_scancode</span><span class="p">],</span> <span class="nb">al</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">al</span><span class="p">,</span> <span class="nv">PIC_EOI</span>      <span class="c1">; Send EOI (End of Interrupt) command</span>
</span></span><span class="line"><span class="cl">    <span class="nf">out</span> <span class="nv">PIC1_COMMAND</span><span class="p">,</span> <span class="nb">al</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pop</span> <span class="nb">rax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">iretq</span></span></span></code></pre></div>

<h2 id="kernel-kernel-asm">kernel/kernel.asm</h2>

<p lang="en">Here, we added some code to see our Interrupt Service Routines in action:</p>
<p lang="el">Εδώ, προσθέσαμε κώδικα για να δούμε τις Ρουτίνες Εξυπηρέτησης Διακοπών σε δράση:</p>

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nasm" data-lang="nasm"><span class="line"><span class="cl"><span class="k">BITS</span> <span class="mi">64</span>  <span class="c1">; We have entered the long mode! :)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;---Define----------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="cp">%define DATA_SEG   0x0010
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">;---Initialized data------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="nf">hello_world_message</span> <span class="nv">dw</span> <span class="mi">12</span>
</span></span><span class="line"><span class="cl"><span class="kd">db</span> <span class="s">&#39;Hello World!&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;---Include---------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="cp">%include &#34;kernel/idt.asm&#34;
</span></span></span><span class="line"><span class="cl"><span class="cp">%include &#34;kernel/isr.asm&#34;
</span></span></span><span class="line"><span class="cl"><span class="cp">%include &#34;kernel/video.asm&#34;
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">;---Code------------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl"><span class="nl">Kernel:</span>
</span></span><span class="line"><span class="cl">    <span class="nf">lidt</span> <span class="p">[</span><span class="nv">IDTR</span><span class="p">]</span> <span class="c1">; Load our IDT</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">al</span><span class="p">,</span> <span class="mh">0x80</span>       <span class="c1">; OCW1: Unmask all interrupts at master PIC</span>
</span></span><span class="line"><span class="cl">    <span class="nf">out</span> <span class="nv">PIC1_DATA</span><span class="p">,</span> <span class="nb">al</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">al</span><span class="p">,</span> <span class="mh">0x80</span>       <span class="c1">; OCW1: Unmask all interrupts at master PIC</span>
</span></span><span class="line"><span class="cl">    <span class="nf">out</span> <span class="nv">PIC2_DATA</span><span class="p">,</span> <span class="nb">al</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">; Set all segments registers to DATA_SEG</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ax</span><span class="p">,</span> <span class="nv">DATA_SEG</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ds</span><span class="p">,</span> <span class="nb">ax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">es</span><span class="p">,</span> <span class="nb">ax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">fs</span><span class="p">,</span> <span class="nb">ax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">gs</span><span class="p">,</span> <span class="nb">ax</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ss</span><span class="p">,</span> <span class="nb">ax</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">; Clear the screen.</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rax</span><span class="p">,</span> <span class="mh">0x0020002000200020</span> <span class="c1">; Set background color to black (0) and</span>
</span></span><span class="line"><span class="cl">                                <span class="c1">; character to blank space (20).</span>
</span></span><span class="line"><span class="cl">    <span class="nf">call</span> <span class="nv">Fill_screen</span>            
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">; Print &#34;Hello World!&#34; at the upper right corner</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">ah</span><span class="p">,</span> <span class="mh">0x1E</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r8</span><span class="p">,</span> <span class="mi">69</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nv">r9</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nf">mov</span> <span class="nb">rsi</span><span class="p">,</span> <span class="nv">hello_world_message</span>
</span></span><span class="line"><span class="cl">    <span class="nf">call</span> <span class="nv">Print</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">; Uncomment the following lines if you want to get a &#34;Division by zero&#34; exception.</span>
</span></span><span class="line"><span class="cl">    <span class="c1">; mov eax, 1</span>
</span></span><span class="line"><span class="cl">    <span class="c1">; mov ecx, 0</span>
</span></span><span class="line"><span class="cl">    <span class="c1">; div ecx   </span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">   <span class="nl">.loop:</span>
</span></span><span class="line"><span class="cl">        <span class="c1">; Print system timer ticks.</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nb">ah</span><span class="p">,</span> <span class="nv">VGA_COLOR_LIGHT_GREEN</span>     
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nv">r8</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nv">r9</span><span class="p">,</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nv">r10</span><span class="p">,</span> <span class="p">[</span><span class="nv">systimer_ticks</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="nf">call</span> <span class="nv">Print_hex</span>
</span></span><span class="line"><span class="cl">        <span class="c1">; Print keyboard scan code.</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nv">r10</span><span class="p">,</span> <span class="p">[</span><span class="nv">keyboard_scancode</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nb">ah</span><span class="p">,</span> <span class="nv">VGA_COLOR_LIGHT_CYAN</span>    
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nv">r8</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="nf">mov</span> <span class="nv">r9</span><span class="p">,</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">        <span class="nf">call</span> <span class="nv">Print_hex</span>
</span></span><span class="line"><span class="cl">        <span class="nf">jmp</span> <span class="nv">.loop</span> <span class="c1">; Infinite loop.</span></span></span></code></pre></div>

<h1 id="runningcode"><span lang="en">Running our code</span><span lang="el">Εκτέλεση του κώδικά μας</span></h1>

<p lang="en">We can test our code very easily using an emulator like <a href="https://en.wikipedia.org/wiki/QEMU" target="_blank">QEMU</a>:</p>
<p lang="el">Μπορούμε να δοκιμάσουμε τον κώδικά μας πολύ εύκολα, χρησιμοποιώντας έναν εξομοιωτή όπως ο <a href="https://en.wikipedia.org/wiki/QEMU" target="_blank">QEMU</a>:</p>

<div class="bg-black"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> make
</span></span><span class="line"><span class="cl"><span class="gp">$</span> qemu-system-x86_64 -drive <span class="nv">format</span><span class="o">=</span>raw,file<span class="o">=</span>os.bin
</span></span></code></pre></div></div>

<p lang="en">(Press some keys to watch the scan code change.)</p>
<p lang="el">(Πατήστε μερικά πλήκτρα για να δείτε τον κωδικό του πλήκτρου να αλλάζει.)</p>

<p><img class="centered" src="/images/os_isr_irq.jpg" alt="IRQ ISR example" title="IRQ ISR example"></p>

<p lang="en">Now, we have a way to measure time and we can get input from our keyboard! What a progress! :D</p>
<p lang="el">Τώρα, λοιπόν, έχουμε έναν τρόπο για να μετρήσουμε τον χρόνο και μπορούμε να πάρουμε είσοδο από το πληκτρολόγιό μας! Τι μεγάλη πρόοδος! :D</p>

<p></br></p>

<p lang="en">To see the "Division by zero" ISR in action, uncomment the relevant lines:</p>
<p lang="el">Για να δειτε την εξαίρεση της "Διαίρεση με το μηδέν" σε δράση, αφαιρέστε τα σχόλια από τις σχετικές γραμμές:</p>

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nasm" data-lang="nasm"><span class="line"><span class="cl"><span class="c1">; Uncomment the following lines if you want to get a &#34;Division by zero&#34; exception.</span>
</span></span><span class="line"><span class="cl"><span class="nf">mov</span> <span class="nb">eax</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="nf">mov</span> <span class="nb">ecx</span><span class="p">,</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="nf">div</span> <span class="nb">ecx</span>   </span></span></code></pre></div>

<p><img class="centered" src="/images/os_isr_div.jpg" alt="Divizion by zero ISR example" title="Divizion by zero ISR example"/></p>

<h1 id="fullcode"><span lang="en">Full code</span><span lang="el">Πλήρης κώδικας</span></h1>

<p lang="en">You can download the full code from here: <a href="https://github.com/Alamot/code-snippets/tree/master/os/part3" target="_blank">code</a></p>
<p lang="el">Μπορείτε να κατεβάσετε τον πλήρη κώδικα απο εδώ: <a href="https://github.com/Alamot/code-snippets/tree/master/os/part3" target="_blank">κώδικας</a></p> 

<h1 id="reference"><span lang="en">References</span><span lang="el">Αναφορές</span></h1>

<ul>
<li><a href="https://wiki.osdev.org/" target="_blank">https://wiki.osdev.org/</a></li>
</ul>

        </div>

        <aside>
          <div class="p-share centered">
            <a href="https://www.buymeacoffee.com/alamot" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-coffee"></i></a>
            <a href="http://www.facebook.com/sharer.php?src=bm&u=https%3a%2f%2falamot.github.io%2fos_isr%2f&t=How%20to%20write%20your%20own%20Operating%20System%20%28x86_64%29%3a%20Interrupts" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-facebook"></i></a>
            <a lang="en" href="http://twitter.com/intent/tweet?url=https%3a%2f%2falamot.github.io%2fos_isr%2f&text=How%20to%20write%20your%20own%20Operating%20System%20%28x86_64%29%3a%20Interrupts&tw_p=tweetbutton" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-twitter"></i></a>
            <a lang="el" href="http://twitter.com/intent/tweet?url=https%3a%2f%2falamot.github.io%2fos_isr%2f&text=%ce%a0%cf%89%cf%82%20%ce%bd%ce%b1%20%ce%b3%cf%81%ce%ac%cf%88%ce%b5%cf%84%ce%b5%20%cf%84%ce%bf%20%ce%b4%ce%b9%ce%ba%cf%8c%20%cf%83%ce%b1%cf%82%20%ce%9b%ce%b5%ce%b9%cf%84%ce%bf%cf%85%cf%81%ce%b3%ce%b9%ce%ba%cf%8c%20%ce%a3%cf%8d%cf%83%cf%84%ce%b7%ce%bc%ce%b1%20%28x86_64%29%3a%20%ce%94%ce%b9%ce%b1%ce%ba%ce%bf%cf%80%ce%ad%cf%82&tw_p=tweetbutton" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-twitter"></i></a>
            <a lang="en" href="http://pinterest.com/pin/create/link/?url==https%3a%2f%2falamot.github.io%2fos_isr%2f&description=How%20to%20write%20your%20own%20Operating%20System%20%28x86_64%29%3a%20Interrupts&media=https://alamot.github.io/images/os3.jpg" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-pinterest-p"></i></a>
            <a lang="el" href="http://pinterest.com/pin/create/link/?url==https%3a%2f%2falamot.github.io%2fos_isr%2f&description=%ce%a0%cf%89%cf%82%20%ce%bd%ce%b1%20%ce%b3%cf%81%ce%ac%cf%88%ce%b5%cf%84%ce%b5%20%cf%84%ce%bf%20%ce%b4%ce%b9%ce%ba%cf%8c%20%cf%83%ce%b1%cf%82%20%ce%9b%ce%b5%ce%b9%cf%84%ce%bf%cf%85%cf%81%ce%b3%ce%b9%ce%ba%cf%8c%20%ce%a3%cf%8d%cf%83%cf%84%ce%b7%ce%bc%ce%b1%20%28x86_64%29%3a%20%ce%94%ce%b9%ce%b1%ce%ba%ce%bf%cf%80%ce%ad%cf%82&media=https://alamot.github.io/images/os3.jpg" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-pinterest-p"></i></a>
          </div>
        </aside>
      </article>
      
      <section id="posts-section">
        <header lang="en"><h3>See also...</h3></header>
        <header lang="el"><h3>Δείτε επίσης...</h3></header>
        <div>
          
          
          
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/os_stage2/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/os2.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">How to write your own Operating System (x86_64): Bootloader, 2nd Stage (long mode)</h3>
      <h3 class="title" lang="el">Πως να γράψετε το δικό σας Λειτουργικό Σύστημα (x86_64): Εκκινητής, 2o Στάδιο (μακρά κατάσταση)</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">11 Apr 2022</time>
      <time lang="el">11 Απρ 2022</time>
    </footer>
  </a>
</article>

           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/os_stage1/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/os1.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">How to write your own Operating System (x86_64): Bootloader, 1st Stage</h3>
      <h3 class="title" lang="el">Πως να γράψετε το δικό σας Λειτουργικό Σύστημα (x86_64): Εκκινητής, 1o Στάδιο</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">10 Apr 2022</time>
      <time lang="el">10 Απρ 2022</time>
    </footer>
  </a>
</article>

           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/os_tasking/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/os4.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">How to write your own Operating System (x86_64): Multitasking</h3>
      <h3 class="title" lang="el">Πως να γράψετε το δικό σας Λειτουργικό Σύστημα (x86_64): Πολυδιεργασία</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">23 Apr 2022</time>
      <time lang="el">23 Απρ 2022</time>
    </footer>
  </a>
</article>

           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
           
           
           
          
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/nl80211/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/wifi-sign.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">How to get info for the wireless interface using nl80211 in C</h3>
      <h3 class="title" lang="el">Πως να λάβετε πληροφορίες για την ασύρματη διεπαφή χρησιμοποιώντας την nl80211 στη C</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">09 Oct 2016</time>
      <time lang="el">09 Οκτ 2016</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/fast_commit_push/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/binary_flow.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">Git &amp; Mercurial: How to commit-push fast and easily</h3>
      <h3 class="title" lang="el">Git &amp; Mercurial: Πως να κάνετε commit-push γρήγορα και εύκολα</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">17 Oct 2016</time>
      <time lang="el">17 Οκτ 2016</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/shutdown_manager_transparent/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/transparent_shutdown.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">Creation of a transparent shutdown GUI using Gtk and Cairo in Python</h3>
      <h3 class="title" lang="el">Δημιουργία μιας διαφανούς γραφικής διεπαφής κλεισίματος με τη χρήση Gtk και Cairo σε Python</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">19 Sep 2016</time>
      <time lang="el">19 Σεπ 2016</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/sutherland_hodgman_algorithm/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/Sutherland_Hodgman_3D.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">3D visualization of Sutherland-Hodgman algorithm (polygon clipping)</h3>
      <h3 class="title" lang="el">Τρισδιάστατη οπτικοποίηση του αλγορίθμου Sutherland-Hodgman (αποκοπή πολυγώνων)</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">25 Apr 2016</time>
      <time lang="el">25 Απρ 2016</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/kivy_popup/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/kivy.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">How to build a responsive popup window with scrolling capability in Kivy</h3>
      <h3 class="title" lang="el">Πως να φτιάξετε ένα ευέλικτο αναδυόμενο παράθυρο με δυνατότητα κύλισης στην Kivy</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">19 Feb 2014</time>
      <time lang="el">19 Φεβ 2014</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/winrm_shell/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/winrm.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">WinRM shell (a.k.a. PowerShell Remoting) with file upload capability</h3>
      <h3 class="title" lang="el">WinRM κέλυφος (PowerShell Remoting) με δυνατότητα ανεβάσματος αρχείων</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">09 Apr 2018</time>
      <time lang="el">09 Απρ 2018</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/epub_cover/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/openbook.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">How to read the cover image from an EPUB file in Python</h3>
      <h3 class="title" lang="el">Πως να διαβάσετε την εικόνα εξωφύλλου από ένα αρχείο EPUB σε Python</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">10 May 2020</time>
      <time lang="el">10 Μαϊ 2020</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/mssql_shell/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/dbs.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">MSSQL shell with file upload capability</h3>
      <h3 class="title" lang="el">MSSQL κέλυφος με δυνατότητα ανεβάσματος αρχείων</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">13 Apr 2018</time>
      <time lang="el">13 Απρ 2018</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/test_encodings/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/encodings.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">How to determine the character encoding of a text file</h3>
      <h3 class="title" lang="el">Πως να αναγνωρίσετε την κωδικοποίηση χαρακτήρων ενός αρχείου κειμένου</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">21 Oct 2016</time>
      <time lang="el">21 Οκτ 2016</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/shutdown_manager_plain/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/shutdown_button.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">Creation of a shutdown GUI using Gtk in Python</h3>
      <h3 class="title" lang="el">Δημιουργία μιας γραφικής διεπαφής κλεισίματος με τη χρήση Gtk σε Python</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">21 Jul 2016</time>
      <time lang="el">21 Ιουλ 2016</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/oracle/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/oracle.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">Ask and you shall receive</h3>
      <h3 class="title" lang="el">Ζήτα και θα λάβεις</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">04 May 2019</time>
      <time lang="el">04 Μαϊ 2019</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
            <article class="li col-sm-6 col-md-4">
  <a href="https://alamot.github.io/path_traversal_archiver/" class="clearfix">
    <div class="cell">
      <div class="image" style="background-image: url(https://alamot.github.io/images/path.jpg);"></div>
    </div>
    <footer>
      <h3 class="title" lang="en">Path-traversal archiver</h3>
      <h3 class="title" lang="el">Αρχειοθέτης με διάσχιση διαδρομής</h3>
      <i class="fa fa-calendar"></i>
      <time lang="en">14 May 2019</time>
      <time lang="el">14 Μαϊ 2019</time>
    </footer>
  </a>
</article>

           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
           
           
           
           
          
        </div>
      </section>
      
    </div>
   </div> 
  </div>


<footer class="l-footer">
<span class="copyleft">&copy;</span>
<span lang="en">&nbsp; Antonios Tsolis &nbsp; </span>
<span lang="el">&nbsp; Αντώνιος Τσώλης &nbsp; </span>
<script>
  function email(starting,server,firstname,lastname,subject,body,closing) {
    document.write(starting); document.write(lastname); document.write("." + firstname); document.write("@" + server);if (Boolean(subject)) { document.write("?subject=" + subject + "&body=" + body); }
    document.write(closing); }
  email("<a class='mymail' href='mailto:", "gmail.com", "antonios", "tsolis", "", "","' target='_blank'><i class='fa fa-envelope-o' aria-hidden='true'></i></a>");
</script>
</footer>
<script async src="https://alamot.github.io/js/jq-btsp-lunr.min.js" onload="init()"></script>
<script>
short_months = {
  "en": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
  "el": ["Ιαν", "Φεβ", "Μαρ", "Απρ", "Μαϊ", "Ιουν", "Ιουλ", "Αυγ", "Σεπ", "Οκτ", "Νοε", "Δεκ"]
}
function init () {
$(document).ready(function(){
  $("#lang-selector>ul>li>a").click(function(){
    var langid = this.id;
    var selText = this.text;
    document.getElementById('mainbody').setAttribute('class', langid);
    document.getElementById('mainbody').setAttribute('lang', langid);
    localStorage.setItem('language', langid);
    $("#lang-selector>a").html(selText+' <i class="fa fa-caret-down" aria-hidden="true"></i>');
  });

  $("#TableOfContents a, #content-selector a").on('click', function(e) {
    var hash = this.hash;
    if (hash) {
      e.preventDefault();
      $('html, body').animate({scrollTop: $(hash).offset().top}, 1300, function(){
        window.location.hash = hash;
      });
    }  
  });

  
});}
</script>
<script>
(function(a){var b=function(b,h,n){function d(a){if(f.body)return a();setTimeout(function(){d(a)})}function k(){c.addEventListener&&c.removeEventListener("load",k);c.media=n||"all"}var f=a.document,c=f.createElement("link"),g;if(h)g=h;else{var e=(f.body||f.getElementsByTagName("head")[0]).childNodes;g=e[e.length-1]}var m=f.styleSheets;c.rel="stylesheet";c.href=b;c.media="only x";d(function(){g.parentNode.insertBefore(c,h?g:g.nextSibling)});var l=function(a){for(var b=c.href,d=m.length;d--;)if(m[d].href===
b)return a();setTimeout(function(){l(a)})};c.addEventListener&&c.addEventListener("load",k);c.onloadcssdefined=l;l(k);return c};"undefined"!==typeof exports?exports.loadCSS=b:a.loadCSS=b})("undefined"!==typeof global?global:this);
(function(a){if(a.loadCSS){var b=loadCSS.relpreload={};b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(h){return!1}};b.poly=function(){for(var b=a.document.getElementsByTagName("link"),e=0;e<b.length;e++){var d=b[e];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d),d.rel=null)}};if(!b.support()){b.poly();var e=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){a.clearInterval(e)});a.attachEvent&&
a.attachEvent("onload",function(){a.clearInterval(e)})}}})(this);
</script>
</body>
</html>

